[build-system]
requires = ["setuptools>=45", "wheel", "setuptools_scm[toml]>=6.0"]


[tool.setuptools_scm]
write_to = "src/{{ cookiecutter.project_slug }}/_version.py"

{% if cookiecutter.is_ci == "no" %}
[tool.pytask.ini_options]
infer_latex_dependencies = true
{% endif %}

{% if cookiecutter.is_ci == "yes" %}
[tool.pytask.ini_options]
paths = ["./src/{{ cookiecutter.project_slug }}", "./paper"]
{% endif %}

{% if cookiecutter.add_mypy == "yes" %}
[tool.mypy]
files = ["src", "tests"]
check_untyped_defs = true
disallow_any_generics = true
disallow_incomplete_defs = true
disallow_untyped_defs = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true


[[tool.mypy.overrides]]
module = "tests.*"
disallow_untyped_defs = false
ignore_errors = true
{% endif %}
