\documentclass[convert={density=300,size=1080x800,outext=.png}]{standalone}
\usepackage{tkz-graph}
\usetikzlibrary{arrows,positioning,shapes,shapes.multipart,patterns,mindmap,shadows}
\usepackage{xcolor}
\usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault}


\begin{document}

\footnotesize
\begin{tikzpicture}[every node/.style={
    rectangle,
    rounded corners,
    inner sep=3pt,
    draw,
    fill=brown!25
}]
    %data
    \node (ajrcomment_dta) [fill=blue!15, shift={(-4, -2)}]
    {
        ajrcomment.dta
    };
    \node (add_variables_do) [fill=blue!15, shift={(-4, 2)}]
    {
        add\_variables.do
    };
    \node (ajrcomment_all_dta) [shift={(-4, 0)}]
    {
        ajrcomment\_all.dta
    };

    %analysis
    \node (regression_on_indicators_do) [fill=blue!15, shift={(2, 0)}]
    {
        regression\_on\_indicators.do
    };
    \node (regression_on_indicators_corr_dta) [shift={(0, 2)}]
    {
        regression\_on\_indicators\_corr.dta
    };
    \node (regression_on_indicators_est_dta) [shift={(0, -2)}]
    {
        regression\_on\_indicators\_est.dta
    };


    \node (geography_do) [fill=blue!15, shift={(5, 0)}]
    {
        geography.do
    };
    \node (baseline_do) [fill=blue!15, shift={(7, 0)}]
    {
        baseline.do
    };
    \node (rmconj_do) [fill=blue!15, shift={(9, 0)}]
    {
        rmconj.do
    };


    \node (first_stage_estimation_baseline_dta) [shift={(4.5, 2)}]
    {
        first\_stage\_estimation\_baseline.dta
    };

    \node (first_stage_estimation_rmconj_dta) [shift={(9, 2)}]
    {
        first\_stage\_estimation\_rmconj.dta
    };

    \node (first_stage_estimation_do) [fill=blue!15, shift={(6, 6)}]
    {
        first\_stage\_estimation.do
    };

    \node (first_stage_estimation_baseline_do) [fill=blue!15, shift={(4.5, 4)}]
    {
        first\_stage\_estimation\_baseline.do
    };

    \node (first_stage_estimation_rmconj_do) [fill=blue!15, shift={(9, 4)}]
    {
        first\_stage\_estimation\_rmconj.do
    };




    \node (second_stage_estimation_baseline_dta) [shift={(5, -2)}]
    {
        second\_stage\_estimation\_baseline.dta
    };

    \node (second_stage_estimation_rmconj_dta) [shift={(10, -2)}]
    {
        second\_stage\_estimation\_rmconj.dta
    };


    \node (second_stage_estimation_baseline_do) [fill=blue!15, shift={(4.5, -4)}]
    {
        second\_stage\_estimation\_baseline.do
    };

    \node (second_stage_estimation_rmconj_do) [fill=blue!15, shift={(10, -4)}]
    {
        second\_stage\_estimation\_rmconj.do
    };

    \node (second_stage_estimation_do) [fill=blue!15, shift={(6, -6)}]
    {
        second\_stage\_estimation.do
    };


    %final

    \node (figure1_mortality_do) [fill=blue!15, shift={(11.5, 0)}]
    {
        figure1\_mortality.do
    };

    \node (risk_mort_eps) [shift={(14, 1)}]
    {
        risk\_mort.eps
    };
    \node (gdp_mort_eps) [shift={(14, -1)}]
    {
        gdp\_mort.eps
    };

    \node (table1_reg_on_indicators_tex) [shift={(15, 0)}]
    {
        table1\_reg\_on\_indicators.tex
    };

    \node (table1_reg_on_indicators_do) [fill=blue!15, shift={(15, 2)}]
    {
        table1\_reg\_on\_indicators.do
    };


    \node (table2_first_stage_est_tex) [shift={(16, 4)}]
    {
        table2\_first\_stage\_est.tex
    };

    \node (table2_first_stage_est_do) [fill=blue!15, shift={(16, 5)}]
    {
        table2\_first\_stage\_est.do
    };

    \node (table3_second_stage_est_tex) [shift={(15, -3)}]
    {
        table3\_second\_stage\_est.tex
    };

    \node (table3_second_stage_est_do) [fill=blue!15, shift={(15, -4)}]
    {
        table3\_second\_stage\_est.do
    };




    %paper

    \node (research_paper_tex) [fill=blue!15, shift={(19, 0.5)}]
    {
        research\_paper.tex
    };

    \node (research_paper_pdf) [shift={(19, 2.5)}]
    {
        research\_paper.pdf
    };


    \node (research_pres_30min_tex) [fill=blue!15, shift={(19, -1.5)}]
    {
        research\_pres\_30min.tex
    };

    \node (research_pres_30min_pdf) [shift={(19, -2.5)}]
    {
        research\_pres\_30min.pdf
    };

    \node (refs_bib) [fill=blue!15, shift={(19, -0.5)}]
    {
        refs.bib
    };







    %data
    \draw[->, blue, thick] (ajrcomment_all_dta) to (add_variables_do);
    \draw[->, blue, thick] (ajrcomment_all_dta) to (ajrcomment_dta);

    %analysis
    \draw[->, orange, thick] (regression_on_indicators_corr_dta) to (regression_on_indicators_do);
    \draw[->, orange, thick] (regression_on_indicators_corr_dta) to (ajrcomment_all_dta);


    \draw[->, orange, thick] (regression_on_indicators_est_dta) to (regression_on_indicators_do);
    \draw[->, orange, thick] (regression_on_indicators_est_dta) to (ajrcomment_all_dta);


    \draw[->, orange, thick] (first_stage_estimation_baseline_dta) to (first_stage_estimation_baseline_do);
    \draw[->, orange, thick] (first_stage_estimation_baseline_dta) to (geography_do);
    \draw[->, orange, thick] (first_stage_estimation_baseline_dta) to (ajrcomment_all_dta);
    \draw[->, orange, thick] (first_stage_estimation_baseline_dta) to (baseline_do);
    \draw[->, orange, thick] (first_stage_estimation_baseline_do) to (first_stage_estimation_do);


    \draw[->, orange, thick] (first_stage_estimation_rmconj_dta) to (first_stage_estimation_rmconj_do);
    \draw[->, orange, thick] (first_stage_estimation_rmconj_dta) to (geography_do);
    \draw[->, orange, thick] (first_stage_estimation_rmconj_dta) to (ajrcomment_all_dta);
    \draw[->, orange, thick] (first_stage_estimation_rmconj_dta) to (rmconj_do);
    \draw[->, orange, thick] (first_stage_estimation_rmconj_do) to (first_stage_estimation_do);

    \draw[->, orange, thick] (second_stage_estimation_baseline_dta) to (second_stage_estimation_baseline_do);
    \draw[->, orange, thick] (second_stage_estimation_baseline_dta) to (geography_do);
    \draw[->, orange, thick] (second_stage_estimation_baseline_dta) to (ajrcomment_all_dta);
    \draw[->, orange, thick] (second_stage_estimation_baseline_dta) to (baseline_do);
    \draw[->, orange, thick] (second_stage_estimation_baseline_do) to (second_stage_estimation_do);

    \draw[->, orange, thick] (second_stage_estimation_rmconj_dta) to (second_stage_estimation_rmconj_do);
    \draw[->, orange, thick] (second_stage_estimation_rmconj_dta) to (geography_do);
    \draw[->, orange, thick] (second_stage_estimation_rmconj_dta) to (ajrcomment_all_dta);
    \draw[->, orange, thick] (second_stage_estimation_rmconj_dta) to (rmconj_do);
    \draw[->, orange, thick] (second_stage_estimation_rmconj_do) to (second_stage_estimation_do);


    %final
    \draw[->, teal, thick] (risk_mort_eps) to (ajrcomment_all_dta);
    \draw[->, teal, thick] (gdp_mort_eps) to (ajrcomment_all_dta);
    \draw[->, teal, thick] (risk_mort_eps) to (figure1_mortality_do);
    \draw[->, teal, thick] (gdp_mort_eps) to (figure1_mortality_do);
    \draw[->, teal, thick] (table1_reg_on_indicators_tex) to (regression_on_indicators_est_dta);
    \draw[->, teal, thick] (table1_reg_on_indicators_tex) to (regression_on_indicators_corr_dta);
    \draw[->, teal, thick] (table1_reg_on_indicators_tex) to (table1_reg_on_indicators_do);

    \draw[->, teal, thick] (table2_first_stage_est_tex) to (table2_first_stage_est_do);
    \draw[->, teal, thick] (table2_first_stage_est_tex) to (first_stage_estimation_baseline_dta);
    \draw[->, teal, thick] (table2_first_stage_est_tex) to (first_stage_estimation_rmconj_dta);

    \draw[->, teal, thick] (table3_second_stage_est_tex) to (table3_second_stage_est_do);
    \draw[->, teal, thick] (table3_second_stage_est_tex) to (second_stage_estimation_baseline_dta);
    \draw[->, teal, thick] (table3_second_stage_est_tex) to (second_stage_estimation_rmconj_dta);


    %paper

    \draw[->, red, thick] (research_paper_pdf) to (research_paper_tex);
    \draw[->, red, thick] (research_pres_30min_pdf) to (research_pres_30min_tex);

    \draw[->, red, thick] (research_paper_tex) to (table1_reg_on_indicators_tex);
    \draw[->, red, thick] (research_paper_tex) to (table2_first_stage_est_tex);
    \draw[->, red, thick] (research_paper_tex) to (table3_second_stage_est_tex);
    \draw[->, red, thick] (research_paper_tex) to (refs_bib);
    \draw[->, red, thick] (research_paper_tex) to (risk_mort_eps);
    \draw[->, red, thick] (research_paper_tex) to (gdp_mort_eps);


\end{tikzpicture}

\end{document}